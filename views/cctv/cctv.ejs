<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"/>  
  <title>Document</title>
  <style>
    video{
        width : 700px;     
    }
    
    .icons{     
        width : 700px;   
        text-align: center;
    }
    .icon{                
        font-size : 24px;        
        margin : 0 30px;
        margin-top : 20px;
        cursor : pointer;
    }
    #rate{
        display : none;
        position : absolute;
        color : yellow;
        font-size : 16px;
        font-weight : bold;
        padding : 5px 10px;
        right : 33%;
        transition: 0.3s;
    }
    select{
       display : inline;              
       padding : 10px 0;
       outline : none;
       width : 300px;
       border : none;
       border-bottom : 1px solid #0000003b;
       margin-right : 20px;
       margin-bottom : 20px;
       cursor : pointer;
       font-size : 20px;
       font-weight : bold;
   }
   #head{
       font-size : 18px;
       font-weight: bold;
       margin-bottom : 10px;
   }
   .datepicker-toggle {
  display: inline-block;
  position: relative;
  width: 18px;
  height: 19px;
}

  </style>
</head>
<body id = "top">
    <div
      class="bgded overlay"
      style="background-image: url('/images/child.jpg')"
    >
      <%- include('../partials/nav') %>

      <div id="breadcrumb" class="hoc clear">
        <h6 class="heading" style="font-family: NotoSansKR-Regular;">가든 정보 관리</h6>
        <br />
        <ul>
          <li><a href="/index">메인</a></li>
          <li><a href="#">마이 페이지</a></li>
          <li><a href="/mypage/gardenManage/info">가든 정보 관리</a></li>
        </ul>
      </div>
    </div>
    <!-- End Top Background Image Wrapper -->
    <div class="wrapper row3">
        <main class="hoc container clear">
          <!--네비게이션-->
          <div class="sidebar one_quarter first">
              <div id = "head">카메라</div>
            <nav class="sdb_holder">
              <ul>
                <li><a href="videos/disneyTour.mp4" class = "rooms">광개토대왕 방</a></li>        
                <li><a href="videos/test.mp4" class = "rooms">세종대왕 방</a></li>
              </ul>
            </nav>
          </div>
  
          <!--본 문-->
          <div class="content three_quarter">
            <select name="" id="select" class = "">            
                  <option value="#">테레사 유치원</option>            
            </select>  
          
            <div class="containerBox">        
                <div class="videoBox">
                    <span id = "rate">배속 : x<span id = "value">1.7배</span></span>                    
                    <video id = "video1" src="videos/disneyTour.mp4" controls></video>
                    <img src="http://211.230.118.72/stream.jpeg" alt="">
                   
                    <div class="icons">
                        <i class="fas fa-chevron-circle-left icon" id = "slow"></i>
                        <i class="fas fa-chevron-circle-right icon" id = "fast"></i>                
                    </div>                        
                </div>
                <span class="datepicker-toggle">
                    <span class="datepicker-toggle-button"></span>
                    <input type="date" class="datepicker-input">
                </span>      
            </div>   
          </div>
          <div class="clear"></div>
        </main>
      </div>

    
    
  
  
  <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
  <script>
      let video1 = document.querySelector('#video1');
      let rateTag = document.querySelector('#rate');
      let rateValueTag = document.querySelector('#value');
      let roomsTag = document.getElementsByClassName('rooms');
      let velocity = 1;
      let address;

      let fastIcon = document.querySelector('#fast');
      let slowIcon = document.querySelector('#slow');
      fastIcon.addEventListener('click', () => {                  
          if(velocity == 16){
            showEffect();
            return;
          };        
          velocity *=2;
          showEffect();
          video1.playbackRate = velocity;                    
          setTimeout(disappearEffect, 2000)
          
      })
      slowIcon.addEventListener('click', () => {                    
          if(velocity == 0.125){
            showEffect();
            return;
          };          
          velocity /= 2;          
          showEffect();
          setTimeout(disappearEffect, 2000)
          video1.playbackRate = velocity;
      })
      const playRate = (tagName, value) => {                    
          tagName.playBackRate = value;
      }
      const disappearEffect = () => {        
          rateTag.style.display = 'none';          
      }
      const showEffect = () => {
        rateValueTag.innerHTML = velocity;
        rateTag.style.display = 'inline';          
      }

      for(let i =0; i < roomsTag.length; i++){
          roomsTag[i].addEventListener('click', (e) => {
            e.preventDefault();
            // address = e.target.href;
            // address = address.replace('/', '');
            video1.src = e.target.href; 
            console.log(address);
          })
      }
  </script>
</body>
</html>
