<!DOCTYPE html>
<html lang="">
  <head>
    <%- include('../partials/head') %>
  </head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <style>
    html{
        background-color: #FFEFEF;
    }
    body{
        margin : 7%;
        margin-top : 5%;
    }
    label{
        margin-top : 3%;
        margin-bottom : 3%;
        font-weight: bold;
        font-size: 20px;
    }

    #info{
      font-weight:normal;
      font-size: 17px;
      padding: 4px 2px;
      width: 100%;
      margin-bottom: 0%;
    }

    .btn{
      cursor: pointer;
      padding-left : 3%;
      padding-right : 3%;
      margin-top : 2%;
      font-weight: bold;
      float : right;
      line-height: 1.7em;
    }

    #selboxDirect{
        margin-top : 3%;
        width : 20%;
    }

    #name{
        width : 40%;
    }

    #checkbox{
        margin-top : 0%;
        margin-right : 10%;
        font-weight: normal;
    }

    .btn{
      cursor: pointer;
      padding-left : 3%;
      padding-right : 3%;
      font-weight: bold;
      float : right;
      line-height: 1.7em;
    }
    
    #back{
        margin-top : 7%;
        float : left;
        width: 15%;
    }

    #submit{
        margin-top : 7%;
        width : 30%;
        color : white;
        background-color: rgb(40, 87, 209);
        border : 1px solid #8080805c;
    }

    #agreement{
        font-weight: normal;
        margin-top : 0%;
        margin-bottom : 0%;
        font-size : 17px;
        width : 100%;
    }

    #agree{
        margin-right : 1%;
    }

  </style>

  <body id="top">
    <!-- Top Background Image Wrapper -->
    </div>
    <!-- End Top Background Image Wrapper -->
    <div class="wrapper row3">
      <main class="hoc container clear">
        <!--네비게이션-->

        <div class="">
          <h1 style="font-family: sans-serif;font-weight: bold;">
            <%= info.gardenname %> 리뷰 작성
          </h1>
          <label id="info">키즈가든은 평가자의 익명성을 보장하며<br>
            평가내역에 어떠한 개인정보도 노출되지 않음을 약속드립니다.<br>
            추가적으로, <span style="font-weight: bold;">*</span> 는 입력 필수 항목입니다.
          </label>
          <form
            action="/garden/<%= info.gardencode %>/review"
            method="post"
            id="reviewform"
          >
          <fieldset>
            <div class="profile">
              <div class="one_two first">
                <label>어린이집/유치원 선생님 이름을 입력해주세요</label>
                <input
                  type="text"
                  name="teacherName"
                  id="name"
                  rows="4"
                  class="form-control"
                />

              </div>
              <div class="one_two">
                <label>어린이집/유치원 등원 시기를 입력해주세요<span>*</span></label>
                <select id="selbox" style="width:20%; display:block" name="attendTime" class="custom-select" required>
                    <option value="2021">2021년</option>
                    <option value="2020">2020년</option>
                    <option value="2019">2019년</option>
                    <option value="2018">2018년</option>
                    <option value="direct">직접입력</option>
                </select>
                <input type="text" id="selboxDirect" name="attendTimeDirect" class="form-control"/>
              </div>

              <div class="one_two">
                <label style="display : block;">자녀가 한 명 더 생긴다면 본 어린이집/유치원에 보내실 의향이 있습니까?<span>*</span></label>
                <label id="checkbox"><input id="reJoin" style="display : inline;" type="checkbox" name="reJoin" value="1" class="form-check" onclick='checkOnlyOneJoin(this)'> 매우 아니다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="reJoin" value="2" class="form-check" onclick='checkOnlyOneJoin(this)'> 아니다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="reJoin" value="3" class="form-check" onclick='checkOnlyOneJoin(this)'> 보통이다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="reJoin" value="4" class="form-check" onclick='checkOnlyOneJoin(this)'> 그렇다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="reJoin" value="5" class="form-check" onclick='checkOnlyOneJoin(this)'> 매우 그렇다</label>
              </div>

              <div class="one_two">
                <label style="display : block;">원장 선생님이 교육에 관심 있고, 지속적으로 부모와 소통한다고 느끼십니까?<span>*</span></label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isCommunicate" value="1" class="form-check" onclick='checkOnlyOneCom(this)'> 매우 아니다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isCommunicate" value="2" class="form-check" onclick='checkOnlyOneCom(this)'> 아니다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isCommunicate" value="3" class="form-check" onclick='checkOnlyOneCom(this)'> 보통이다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isCommunicate" value="4" class="form-check" onclick='checkOnlyOneCom(this)'> 그렇다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isCommunicate" value="5" class="form-check" onclick='checkOnlyOneCom(this)'> 매우 그렇다</label>
              </div>

              <div class="one_two">
                <label style="display : block;">선생님이 자녀와의 정서적인 교감과 교육에 적극적이라고 생각하십니까?<span>*</span></label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isActive" value="1" class="form-check" onclick='checkOnlyOneAct(this)'> 매우 아니다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isActive" value="2" class="form-check" onclick='checkOnlyOneAct(this)'> 아니다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isActive" value="3" class="form-check" onclick='checkOnlyOneAct(this)'> 보통이다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isActive" value="4" class="form-check" onclick='checkOnlyOneAct(this)'> 그렇다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isActive" value="5" class="form-check" onclick='checkOnlyOneAct(this)'> 매우 그렇다</label>
              </div>

              <div class="one_two">
                <label style="display : block;">유아의 건강, 안전이 잘 지켜지고 있다고 느끼십니까?<span>*</span></label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isSafe" value="1" class="form-check" onclick='checkOnlyOneSafe(this)'> 매우 아니다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isSafe" value="2" class="form-check" onclick='checkOnlyOneSafe(this)'> 아니다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isSafe" value="3" class="form-check" onclick='checkOnlyOneSafe(this)'> 보통이다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isSafe" value="4" class="form-check" onclick='checkOnlyOneSafe(this)'> 그렇다</label>
                <label id="checkbox"><input style="display : inline;" type="checkbox" name="isSafe" value="5" class="form-check" onclick='checkOnlyOneSafe(this)'> 매우 그렇다</label>
              </div>  
              
              <div class="one_two">
                <label style="display : block;">장점<span>*</span></label>
                <textarea id="advantage" name="advantage" rows="10" class="form-control" placeholder="장점을 작성해주세요" required></textarea>
              </div>

              <div class="one_two">
                <label style="display : block;">단점<span>*</span></label>
                <textarea id="disAdavantage" name="disAdvantage" rows="10" class="form-control" placeholder="단점을 작성해주세요" required></textarea>
              </div>

              <div class="one_two">
                <label style="display : block;">동의<span>*</span></label>
                <label id="agreement"><input id="agree" name="agree" style="display : inline;" type="checkbox" class="form-check" >작성자는 강사/학원 또는 제3자로부터 리뷰작성에 대한 대가를 제공받은 바 없이 본인의 경험을 기초로 사실에 입각하여 후기를 작성하였으며, <strong> 진위 여부를 확인하기 위한 자료를 요청할 경우 성실하게 협조</strong>할 것입니다.</label>
              </div>

            </div>
            <div class="button">
              <a href="/garden" class="btn" id="back">뒤로가기</a>
              <button type="submit" class="btn" id="submit">작성하기</button>
            </div>
            </fieldset>
          </form>
        </div>
        <div class="clear"></div>
      </main>
    </div>
  </body>
  <script>
    $(function(){
        $("#selboxDirect").hide();
        $("#selbox").change(function() {
            if($("#selbox").val() == "direct") {
                $("#selboxDirect").show();
            }else {
                $("#selboxDirect").hide();
            }
        }) 
    });

    function checkOnlyOneJoin(element) {
        const checkboxes = document.getElementsByName("reJoin");
        
        checkboxes.forEach((cb) => {
            cb.checked = false;
        })
        element.checked = true;
    }

    function checkOnlyOneCom(element) {
        const checkboxes = document.getElementsByName("isCommunicate");
        
        checkboxes.forEach((cb) => {
            cb.checked = false;
        })
        element.checked = true;
    }
    
    function checkOnlyOneAct(element) {
        const checkboxes = document.getElementsByName("isActive");
        
        checkboxes.forEach((cb) => {
            cb.checked = false;
        })
        element.checked = true;
    }

    function checkOnlyOneSafe(element) {
        const checkboxes = document.getElementsByName("isSafe");
        
        checkboxes.forEach((cb) => {
            cb.checked = false;
        })
        element.checked = true;
    }

    let reviewForm = document.getElementById("reviewform");


    function submit() {
      document.getElementById("submit").addEventListener("click", function (e) {
        if($("input:checkbox[name=reJoin]").is(":checked") == false){
            alert("필수 체크박스 선택을 진행해주세요.");
            e.preventDefault();
            return false;
        }

        if($("input:checkbox[name=isCommunicate]").is(":checked") == false){
            alert("필수 체크박스 선택을 진행해주세요.");
            e.preventDefault();
            return false;
        }

        if($("input:checkbox[name=isActive]").is(":checked") == false){
            alert("필수 체크박스 선택을 진행해주세요.");
            e.preventDefault();
            return false;
        }

        if($("input:checkbox[name=isSafe]").is(":checked") == false){
            alert("필수 체크박스 선택을 진행해주세요.");
            e.preventDefault();
            return false;
        }

        if($("#agree").is(":checked") == false){
            alert("동의 약관을 체크해주세요.");
            e.preventDefault();
            return false;
        }
        reviewForm.submit();
      });
    }

    submit();

  </script>
</html>
